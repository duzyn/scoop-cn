{
    "version": "1.144.0",
    "description": "Build, test, debug, and deploy Serverless applications from CLI",
    "homepage": "https://aws.amazon.com/serverless/sam/",
    "license": "Apache-2.0",
    "depends": "scoop-cn/lessmsi",
    "suggest": {
        "AWS CLI": "aws"
    },
    "architecture": {
        "64bit": {
            "url": "https://gh-proxy.com/https://github.com/aws/aws-sam-cli/releases/download/v1.144.0/AWS_SAM_CLI_64_PY3.msi#/dl.msi_",
            "hash": "38f863f4bb8928dcf255deaf81e0048edf3d4167fb23e02bafe9a5721a7f56cb"
        }
    },
    "pre_install": [
        "# Workaround for #4980, #5653",
        "$msi = \"$dir\\$fname\"; $extracted = \"$dir\\\"",
        "Invoke-ExternalCommand 'lessmsi' -Args @('x', $msi, $extracted) -Quiet",
        "Move-Item \"$dir\\SourceDir\\PFiles64\\Amazon\\AWSSAMCLI\\**\" \"$dir\"",
        "Remove-Item \"$dir\\SourceDir\", \"$dir\\$fname\" -Force -Recurse"
    ],
    "bin": [
        "bin\\sam.cmd",
        [
            "bin\\sam.cmd",
            "aws-sam-cli"
        ]
    ],
    "checkver": {
        "github": "https://github.com/aws/aws-sam-cli"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://gh-proxy.com/https://github.com/aws/aws-sam-cli/releases/download/v$version/AWS_SAM_CLI_64_PY3.msi#/dl.msi_"
            }
        },
        "hash": {
            "url": "https://github.com/aws/aws-sam-cli/releases/tag/v$version",
            "regex": "(?sm)>$basename</.*?>\\s*$sha256</"
        }
    }
}
